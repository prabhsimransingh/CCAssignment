if ( n & (n-1)) == 0) 
means n & n-1 never have a 1 bit in the same place.
It just checks if n is a power of 2 or if n is 0.
